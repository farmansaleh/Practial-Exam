Load an image from disk.
Convert the image to grayscale.
Apply Gaussian blur to the grayscale image.
Detect edges using the Canny edge detection algorithm.
Display the original image, grayscale image, blurred image, and edge-detected image side-by-side using matplotlib.
Write a program to load an image and display it using OpenCV or Matplotlib.
Convert a color image to grayscale and display both the original and grayscale images.
Write a Python program to resize an image to half or double its original dimensions.
Apply Gaussian Blur to an image and compare the original and blurred versions.
Use Canny edge detection to highlight the edges in an image.
Apply binary thresholding to convert a grayscale image into black-and-white.
Write a program to rotate an image 90 degrees or flip it horizontally/vertically.
Write a program to draw rectangles, circles, and text on an image.
Convert an image from BGR to RGB color spaces.
write python code to take from no 1200 out of a video.
write python code to detect edges of a video.
write python code to to convert a video in to gray scale video.
Write a Python program to capture a single frame from your webcam and save it as an image.
Load a video from disk and display its frames one by one using OpenCV.
Extract every 30th frame from a video and save them as individual image files.
Write a Python script to convert a video to grayscale and save the output as a new video file.
Apply a sepia filter to an image and display the original and filtered image side-by-side.
Write a program to apply a median filter to an image and observe noise reduction.
Crop a region of interest (ROI) from an image and save it separately.
Write a Python script to draw a bounding box around detected edges in an image.
Load two images and blend them using cv2.addWeighted() to create a transparency effect.
Overlay one image onto another using masking techniques.
Write code to detect contours in a binary image and draw them.
Implement adaptive thresholding on a grayscale image using OpenCV.
Capture video from webcam and apply real-time Canny edge detection.
Apply morphological operations (erosion and dilation) to remove noise from a binary image.
Detect and highlight corners in an image using the Harris corner detection method.
Convert an image from RGB to HSV and isolate a specific color range (e.g., red).
Track an object of a particular color in a live webcam feed using HSV color space.
Display the histogram of a grayscale Image using matplotlib.
Apply histogram equalization to enhance the contrast of a grayscale Image.
Write a Python program to detect and count the number of faces in an Image using Haar cascades.
Write a Python script to detect and blur faces in an Image using Haar cascades.
Create a real-time background subtraction program using live webcam feed (e.g., using cv2.createBackgroundSubtractorMOG2).
Write code to detect straight lines in an Image using the Hough Line Transform.
Implement real-time motion detection using frame differencing in a video stream.
Write a Python program to detect circles in an Image using the Hough Circle Transform.


Que. Load an image from disk.
Ans.
Using PIL (Python): 
	from PIL import Image

	img = Image.open("path/to/your/image.jpg")
	img.show()

Without any library	
	with open("image.jpg", "rb") as f:
		data = f.read()

	print("Loaded", len(data), "bytes from disk.")
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Convert the image to grayscale.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_image.jpg')

	gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	plt.subplot(1, 2, 1)
	plt.imshow(cv2.cvtColor(image, cv2.COLOR_BGR2RGB))
	plt.title('Original Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(gray_image, cmap='gray')
	plt.title('Grayscale Image')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply Gaussian blur to the grayscale image.
Ans.
	import math

	def load_pgm(path):
		with open(path, "r") as f:
			lines = f.readlines()

		# Remove comments and empty lines
		data = [l.strip() for l in lines if l.strip() and not l.startswith("#")]

		assert data[0] == "P2", "Only ASCII PGM (P2) supported"

		# read width, height
		w, h = map(int, data[1].split())
		maxval = int(data[2])

		# remaining numbers are pixel values
		pixels = list(map(int, " ".join(data[3:]).split()))

		# convert to 2D list
		img = []
		idx = 0
		for _ in range(h):
			row = pixels[idx:idx + w]
			img.append(row)
			idx += w

		return img, w, h, maxval
		
	def gaussian_kernel(size, sigma=1.0):
		kernel = []
		center = size // 2
		total = 0.0

		for x in range(size):
			row = []
			for y in range(size):
				g = math.exp(-((x-center)**2 + (y-center)**2) / (2*sigma*sigma))
				row.append(g)
				total += g
			kernel.append(row)

		# normalize kernel
		for x in range(size):
			for y in range(size):
				kernel[x][y] /= total

		return kernel


	def apply_gaussian_blur(img, kernel):
		h = len(img)
		w = len(img[0])
		k = len(kernel)
		offset = k // 2

		# output image
		out = [[0 for _ in range(w)] for _ in range(h)]

		for i in range(h):
			for j in range(w):
				acc = 0.0
				for ki in range(k):
					for kj in range(k):
						x = min(max(i + ki - offset, 0), h - 1)
						y = min(max(j + kj - offset, 0), w - 1)
						acc += img[x][y] * kernel[ki][kj]
				out[i][j] = int(acc)

		return out


	# Example usage:
	img, w, h, maxval = load_pgm("path/to/your/image.jpg")
	kernel = gaussian_kernel(size=5, sigma=1.0)
	blurred = apply_gaussian_blur(img, kernel)
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write a program to load an image and display it using OpenCV or Matplotlib.
Ans.
Using Matplotlib
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg')

	image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

	plt.imshow(image_rgb)
	plt.title('Loaded Image')
	plt.axis('off') 
	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write a Python program to resize an image to half or double its original dimensions.
Ans.
	import cv2

	image = cv2.imread('path_to_your_image.jpg') 

	height, width = image.shape[:2]

	image_half = cv2.resize(image, (width // 2, height // 2))

	image_double = cv2.resize(image, (width * 2, height * 2))

	cv2.imshow('Original Image', image)
	cv2.imshow('Half-Size Image', image_half)
	cv2.imshow('Double-Size Image', image_double)

	cv2.waitKey(0)
	cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply Gaussian Blur to an image and compare the original and blurred versions.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg')  # Replace with your image file path

	blurred_image = cv2.GaussianBlur(image, (5, 5), 0)

	image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)
	blurred_rgb = cv2.cvtColor(blurred_image, cv2.COLOR_BGR2RGB)

	plt.figure(figsize=(10, 5))

	plt.subplot(1, 2, 1)
	plt.imshow(image_rgb)
	plt.title('Original Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(blurred_rgb)
	plt.title('Blurred Image (Gaussian)')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply binary thresholding to convert a grayscale image into black-and-white.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	_, binary_image = cv2.threshold(gray_image, 127, 255, cv2.THRESH_BINARY)

	plt.figure(figsize=(10, 5))

	plt.subplot(1, 2, 1)
	plt.imshow(gray_image, cmap='gray')
	plt.title('Grayscale Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(binary_image, cmap='gray')
	plt.title('Binary Image (Thresholding)')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write a program to draw rectangles, circles, and text on an image.
Ans.
	import cv2

	image = cv2.imread('path_to_your_image.jpg') 

	start_point = (50, 50)  
	end_point = (300, 300)  
	rectangle_color = (0, 255, 0)  
	rectangle_thickness = 2 
	cv2.rectangle(image, start_point, end_point, rectangle_color, rectangle_thickness)

	center_coordinates = (400, 200)  
	radius = 50  
	circle_color = (0, 0, 255)  
	circle_thickness = 3  
	cv2.circle(image, center_coordinates, radius, circle_color, circle_thickness)

	text = "Hello, OpenCV!"
	font = cv2.FONT_HERSHEY_SIMPLEX  
	font_size = 1  
	text_color = (255, 255, 255)  )
	text_thickness = 2  
	text_position = (50, 400)  
	cv2.putText(image, text, text_position, font, font_size, text_color, text_thickness)

	cv2.imshow('Image with Rectangles, Circles, and Text', image)

	cv2.waitKey(0)
	cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Convert an image from BGR to RGB color spaces.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image_bgr = cv2.imread('path_to_your_image.jpg') 

	image_rgb = cv2.cvtColor(image_bgr, cv2.COLOR_BGR2RGB)

	plt.figure(figsize=(10, 5))

	plt.subplot(1, 2, 1)
	plt.imshow(image_bgr)
	plt.title('Original Image (BGR)')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(image_rgb)
	plt.title('Converted Image (RGB)')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write a Python program to capture a single frame from your webcam and save it as an image.
Ans.
	import cv2

	cap = cv2.VideoCapture(0)

	if not cap.isOpened():
		print("Error: Could not open webcam.")
	else:
		ret, frame = cap.read()

		if ret:
			cv2.imwrite('captured_image.jpg', frame)
			print("Image saved as 'captured_image.jpg'.")
		else:
			print("Error: Failed to capture frame.")

	cap.release()
	cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Extract every 30th frame from a video and save them as individual image files.
Ans.
	import cv2
	import os

	video_path = 'path_to_your_video.mp4' 
	cap = cv2.VideoCapture(video_path)

	if not cap.isOpened():
		print("Error: Could not open video.")
		exit()

	output_folder = 'extracted_frames'
	if not os.path.exists(output_folder):
		os.makedirs(output_folder)

	frame_count = 0
	saved_frame_count = 0

	while True:
		ret, frame = cap.read()
		
		if not ret:
			break 

		if frame_count % 30 == 0:
			frame_filename = os.path.join(output_folder, f'frame_{saved_frame_count + 1}.jpg')
			cv2.imwrite(frame_filename, frame)
			print(f"Saved {frame_filename}")
			saved_frame_count += 1

		frame_count += 1

	cap.release()
	print("Video processing complete.")
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply a sepia filter to an image and display the original and filtered image side-by-side.
Ans.
	import cv2
	import numpy as np
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

	def apply_sepia(img):
		sepia_filter = np.array([[0.393, 0.769, 0.189],
								 [0.349, 0.686, 0.168],
								 [0.272, 0.534, 0.131]])

		sepia_img = cv2.transform(img, sepia_filter)

		sepia_img = np.clip(sepia_img, 0, 255).astype(np.uint8)

		return sepia_img

	sepia_image = apply_sepia(image_rgb)

	plt.figure(figsize=(10, 5))

	plt.subplot(1, 2, 1)
	plt.imshow(image_rgb)
	plt.title('Original Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(sepia_image)
	plt.title('Sepia Filtered Image')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write a program to apply a median filter to an image and observe noise reduction.
Ans.
	import cv2
	import numpy as np
	import matplotlib.pyplot as plt

	def add_salt_and_pepper_noise(image, salt_prob, pepper_prob):
		noisy_image = image.copy()
		total_pixels = image.size
		num_salt = int(salt_prob * total_pixels)
		num_pepper = int(pepper_prob * total_pixels)

		salt_coords = [np.random.randint(0, i - 1, num_salt) for i in image.shape]
		noisy_image[salt_coords[0], salt_coords[1]] = 255

		pepper_coords = [np.random.randint(0, i - 1, num_pepper) for i in image.shape]
		noisy_image[pepper_coords[0], pepper_coords[1]] = 0

		return noisy_image

	image = cv2.imread('path_to_your_image.jpg')  

	gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	noisy_image = add_salt_and_pepper_noise(gray_image, salt_prob=0.02, pepper_prob=0.02)

	filtered_image = cv2.medianBlur(noisy_image, 5)  

	plt.figure(figsize=(15, 5))

	plt.subplot(1, 3, 1)
	plt.imshow(gray_image, cmap='gray')
	plt.title('Original Image')
	plt.axis('off')

	plt.subplot(1, 3, 2)
	plt.imshow(noisy_image, cmap='gray')
	plt.title('Noisy Image (Salt & Pepper)')
	plt.axis('off')

	plt.subplot(1, 3, 3)
	plt.imshow(filtered_image, cmap='gray')
	plt.title('Filtered Image (Median Filter)')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Write code to detect contours in a binary image and draw them.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg')  # Replace with your image file path

	gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	_, binary = cv2.threshold(gray, 127, 255, cv2.THRESH_BINARY)
	
	contours, hierarchy = cv2.findContours(binary, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)

	contour_image = image.copy()
	cv2.drawContours(contour_image, contours, -1, (0, 255, 0), 2)  

	plt.figure(figsize=(12, 6))

	plt.subplot(1, 2, 1)
	plt.imshow(binary, cmap='gray')
	plt.title('Binary Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.imshow(cv2.cvtColor(contour_image, cv2.COLOR_BGR2RGB)) 
	plt.title('Contours Detected')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Implement adaptive thresholding on a grayscale image using OpenCV.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	adaptive_thresh_mean = cv2.adaptiveThreshold(
		gray, 255, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, 11, 2
	)

	adaptive_thresh_gaussian = cv2.adaptiveThreshold(
		gray, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2
	)

	plt.figure(figsize=(15, 5))

	plt.subplot(1, 3, 1)
	plt.imshow(gray, cmap='gray')
	plt.title('Grayscale Image')
	plt.axis('off')

	plt.subplot(1, 3, 2)
	plt.imshow(adaptive_thresh_mean, cmap='gray')
	plt.title('Adaptive Mean Threshold')
	plt.axis('off')

	plt.subplot(1, 3, 3)
	plt.imshow(adaptive_thresh_gaussian, cmap='gray')
	plt.title('Adaptive Gaussian Threshold')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply morphological operations (erosion and dilation) to remove noise from a binary image.
Ans.
	import cv2
	import numpy as np
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg')  

	gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	_, binary = cv2.threshold(gray, 127, 255, cv2.THRESH_BINARY)

	kernel = np.ones((3, 3), np.uint8)  

	eroded = cv2.erode(binary, kernel, iterations=1)

	dilated = cv2.dilate(eroded, kernel, iterations=1)

	opening = cv2.morphologyEx(binary, cv2.MORPH_OPEN, kernel)

	plt.figure(figsize=(12, 8))

	plt.subplot(2, 2, 1)
	plt.imshow(binary, cmap='gray')
	plt.title('Original Binary Image')
	plt.axis('off')

	plt.subplot(2, 2, 2)
	plt.imshow(eroded, cmap='gray')
	plt.title('After Erosion')
	plt.axis('off')

	plt.subplot(2, 2, 3)
	plt.imshow(dilated, cmap='gray')
	plt.title('After Dilation')
	plt.axis('off')

	plt.subplot(2, 2, 4)
	plt.imshow(opening, cmap='gray')
	plt.title('After Opening (Erosion + Dilation)')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Convert an image from RGB to HSV and isolate a specific color range (e.g., red).
Ans.
	import cv2
	import numpy as np
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

	image_hsv = cv2.cvtColor(image, cv2.COLOR_BGR2HSV)

	lower_red1 = np.array([0, 100, 100])
	upper_red1 = np.array([10, 255, 255])

	lower_red2 = np.array([160, 100, 100])
	upper_red2 = np.array([180, 255, 255])

	mask1 = cv2.inRange(image_hsv, lower_red1, upper_red1)
	mask2 = cv2.inRange(image_hsv, lower_red2, upper_red2)

	red_mask = cv2.bitwise_or(mask1, mask2)

	red_segment = cv2.bitwise_and(image_rgb, image_rgb, mask=red_mask)

	plt.figure(figsize=(12, 6))

	plt.subplot(1, 3, 1)
	plt.imshow(image_rgb)
	plt.title('Original Image')
	plt.axis('off')

	plt.subplot(1, 3, 2)
	plt.imshow(red_mask, cmap='gray')
	plt.title('Red Mask')
	plt.axis('off')

	plt.subplot(1, 3, 3)
	plt.imshow(red_segment)
	plt.title('Isolated Red Color')
	plt.axis('off')

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Track an object of a particular color in a live webcam feed using HSV color space.
Ans.
	import cv2
	import numpy as np

	lower_red1 = np.array([0, 100, 100])
	upper_red1 = np.array([10, 255, 255])
	lower_red2 = np.array([160, 100, 100])
	upper_red2 = np.array([180, 255, 255])

	cap = cv2.VideoCapture(0)

	if not cap.isOpened():
		print("Error: Could not open webcam.")
		exit()

	while True:
		ret, frame = cap.read()
		if not ret:
			break

		hsv_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)

		mask1 = cv2.inRange(hsv_frame, lower_red1, upper_red1)
		mask2 = cv2.inRange(hsv_frame, lower_red2, upper_red2)
		mask = cv2.bitwise_or(mask1, mask2)

		kernel = np.ones((5, 5), np.uint8)
		mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)
		mask = cv2.morphologyEx(mask, cv2.MORPH_DILATE, kernel)

		contours, _ = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)

		if contours:
			largest_contour = max(contours, key=cv2.contourArea)
			if cv2.contourArea(largest_contour) > 500:  
				(x, y), radius = cv2.minEnclosingCircle(largest_contour)
				center = (int(x), int(y))
				radius = int(radius)

				cv2.circle(frame, center, radius, (0, 255, 0), 2)  
				cv2.circle(frame, center, 5, (0, 0, 255), -1)      

		cv2.imshow('Original Frame', frame)
		cv2.imshow('Mask', mask)

		if cv2.waitKey(1) & 0xFF == ord('q'):
			break

	cap.release()
	cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Display the histogram of a grayscale Image using matplotlib.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	hist = cv2.calcHist([gray], [0], None, [256], [0, 256])

	plt.figure(figsize=(12, 5))

	plt.subplot(1, 2, 1)
	plt.imshow(gray, cmap='gray')
	plt.title('Grayscale Image')
	plt.axis('off')

	plt.subplot(1, 2, 2)
	plt.plot(hist, color='black')
	plt.title('Grayscale Histogram')
	plt.xlabel('Pixel Intensity')
	plt.ylabel('Number of Pixels')
	plt.xlim([0, 255]) 

	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Apply histogram equalization to enhance the contrast of a grayscale Image.
Ans.
	import cv2
	import matplotlib.pyplot as plt

	image = cv2.imread('path_to_your_image.jpg') 

	gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

	equalized = cv2.equalizeHist(gray)

	plt.figure(figsize=(14, 6))

	plt.subplot(2, 2, 1)
	plt.imshow(gray, cmap='gray')
	plt.title('Original Grayscale Image')
	plt.axis('off')

	plt.subplot(2, 2, 2)
	plt.hist(gray.ravel(), bins=256, range=[0, 256], color='black')
	plt.title('Histogram of Original Image')
	plt.xlabel('Pixel Intensity')
	plt.ylabel('Number of Pixels')

	plt.subplot(2, 2, 3)
	plt.imshow(equalized, cmap='gray')
	plt.title('Histogram Equalized Image')
	plt.axis('off')

	plt.subplot(2, 2, 4)
	plt.hist(equalized.ravel(), bins=256, range=[0, 256], color='black')
	plt.title('Histogram of Equalized Image')
	plt.xlabel('Pixel Intensity')
	plt.ylabel('Number of Pixels')

	plt.tight_layout()
	plt.show()
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Que. Implement real-time motion detection using frame differencing in a video stream.
Ans.
	import cv2
	import numpy as np

	cap = cv2.VideoCapture(0)

	if not cap.isOpened():
		print("Error: Could not open webcam.")
		exit()

	ret, prev_frame = cap.read()
	if not ret:
		print("Error: Could not read frame.")
		exit()

	prev_gray = cv2.cvtColor(prev_frame, cv2.COLOR_BGR2GRAY)
	prev_gray = cv2.GaussianBlur(prev_gray, (5, 5), 0) 

	while True:
		ret, frame = cap.read()
		if not ret:
			break

		gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)
		gray = cv2.GaussianBlur(gray, (5, 5), 0)

		diff = cv2.absdiff(prev_gray, gray)
		
		_, thresh = cv2.threshold(diff, 25, 255, cv2.THRESH_BINARY)

		thresh = cv2.dilate(thresh, None, iterations=2)

		contours, _ = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)

		for contour in contours:
			if cv2.contourArea(contour) > 500:  
				x, y, w, h = cv2.boundingRect(contour)
				cv2.rectangle(frame, (x, y), (x+w, y+h), (0, 255, 0), 2)  

		cv2.imshow("Motion Detection", frame)
		cv2.imshow("Threshold", thresh)

		prev_gray = gray.copy()

		if cv2.waitKey(1) & 0xFF == ord('q'):
			break

	cap.release()
	cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------------------------------------------